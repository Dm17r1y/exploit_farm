import requests
from bs4 import BeautifulSoup


TEAMS = {}


def initialize_teams():
    r = requests.get('https://ructfe.org/teams/')
    soup = BeautifulSoup(r.text, 'html.parser')
    body = soup.find('table', {'class': 'team'}).find('tbody')
    rows = body.find_all('tr')

    for i, row in enumerate(rows):
        cols = row.find_all('td')
        name = cols[2].find('div').find('h3').get_text()
        n = i + 1
        ip = '10.{}.{}.2'.format(60 + n // 256, n % 256)
        TEAMS[name] = ip


initialize_teams()
print('Команды: ')
print(TEAMS)
